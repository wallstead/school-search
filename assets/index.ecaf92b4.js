var he=Object.defineProperty,ue=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var F=(t,r,o)=>r in t?he(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,S=(t,r)=>{for(var o in r||(r={}))A.call(r,o)&&F(t,o,r[o]);if(C)for(var o of C(r))N.call(r,o)&&F(t,o,r[o]);return t},M=(t,r)=>ue(t,pe(r));var O=(t,r)=>{var o={};for(var a in t)A.call(t,a)&&r.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&C)for(var a of C(t))r.indexOf(a)<0&&N.call(t,a)&&(o[a]=t[a]);return o};import{u as ge,j as e,B as b,e as me,a as i,F as I,b as z,L,M as P,c as j,d as T,f as B,g as $,D as k,h as G,i as U,E as W,U as H,T as x,H as R,k as K,I as q,S as D,C as fe,l as be,m as Y,n as V,o as X,p as J,q as Z,r as Q,s as ee,t as h,V as xe,O as ve,v as te,w as re,x as Se,y as ye,R as we,z as Ee,A as Ce}from"./vendor.bf33acf9.js";const Le=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};Le();var ke="/school-search/assets/header_logo.1094da8d.png";const Re={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},Ie=n=>{var s=n,{variant:t,children:r,borderColor:o}=s,a=O(s,["variant","children","borderColor"]);const l=ge("Card",{variant:t});return e(b,M(S({className:"cs-card",__css:l,borderColor:o},a),{children:r}))},De={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},_e={baseStyle:{bg:"white"}},oe={transform:"scale(0.85) translateY(-26px) translateX(6px)"},Ae={variants:{floating:{container:{_focusWithin:{label:S({},oe)},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label":S({},oe),label:{top:0,left:0,zIndex:2,position:"absolute",pointerEvents:"none",ml:10,px:1,mt:"11px",fontSize:"lg",transformOrigin:"left top",color:"gray.400",_after:{content:'""',position:"absolute",left:0,bottom:0,width:"100%",height:"60%",bg:"white",opacity:"1",zIndex:-1}}}}}};var Ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:De,Input:_e,Form:Ae});const Fe={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},Me={heading:"Archivo, sans-serif"},m=me({colors:Fe,fonts:Me,components:S({Card:Re},Ne)});const ae=({children:t,color:r=m.colors.brand.blue,size:o=["50%","50%"],globSizes:a=[[40,80],[60,50],[20,80]],globPositions:n=[[20,10],[10,20],[20,15]],top:s,left:l,right:c,bottom:v,opacity:y=1,speed:u,radius:f,rotate:g})=>i(I,{children:[i("div",{className:"blob",style:{top:s,left:l,right:c,bottom:v,width:o[0],height:o[1],opacity:y,transform:g?`rotate(${g}deg)`:void 0,zIndex:-1},children:[e("div",{className:"glob",style:{backgroundColor:r,width:a[0][0]+"%",height:a[0][1]+"%",top:n[0][0]+"%",left:n[0][1]+"%",animation:u?`move ${u*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:f}}),e("div",{className:"glob1",style:{backgroundColor:r,width:a[1][0]+"%",height:a[1][1]+"%",top:n[1][0]+"%",left:n[1][1]+"%",animation:u?`move ${u*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:f}}),e("div",{className:"glob2",style:{backgroundColor:r,width:a[2][0]+"%",height:a[2][1]+"%",top:n[2][0]+"%",left:n[2][1]+"%",animation:u?`move ${u*800}ms infinite alternate ease-in-out`:void 0,borderRadius:f}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:i("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),Oe=({children:t})=>i(I,{children:[i(b,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e(ae,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:m.colors.brand.green}),e(ae,{size:["600px","600px"],left:"-50px",top:"-20px",color:m.colors.brand.green})]}),i(b,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:ke,alt:"CharacterStrong Logo"})}),t]})]}),ze=({district:t,selectedDistrict:r,setSelectedDistrict:o})=>{const{isOpen:a,onOpen:n,onClose:s}=z(),l=t.LEAID===r;return i(L,{py:2,px:3,borderRadius:12,transition:"background-color 150ms linear, border 150ms linear",background:l?"gray.100":"gray.50",border:l?`2px solid ${m.colors.brand.darkGreen}`:"2px solid transparent",_hover:{background:"gray.100",cursor:"pointer"},_active:{background:"gray.200"},onClick:()=>o(l?"":t.LEAID),children:[i(P,{isOpen:a,onClose:s,children:[e(j,{}),i(T,{children:[e(B,{textTransform:"capitalize",children:t.NAME.toLowerCase()}),e($,{}),e(k,{orientation:"horizontal"}),i(G,{mb:2,children:[i(U,{href:"https://data-nces.opendata.arcgis.com/datasets/nces::private-school-locations-current/api",isExternal:!0,children:["Data from data-nces.opendata.arcgis.com "," ",e(W,{ml:2,mb:1})]}),e(H,{listStyleType:"none",ml:0,mt:2,spacing:1,maxHeight:"300px",overflowY:"auto",pb:5,sx:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))"},children:Object.entries(t).map(c=>i(L,{children:[i(x,{fontWeight:"bold",children:[c[0],":"]})," ",c[1]]},c[0]))})]})]})]}),i(R,{justify:"space-between",children:[i(R,{children:[i(x,{userSelect:"none",textTransform:"capitalize",children:[t.NAME.toLowerCase(),","," ",t.LSTATE]}),e(K,{colorScheme:"transparent",variant:"ghost",px:2,onClick:c=>{c.stopPropagation(),n()},children:e(q,{})})]}),l&&e(D,{initialScale:.5,in:!0,children:e(fe,{color:m.colors.brand.darkGreen,mb:1})})]})]})},Pe="AIzaSyCpR_uaWxqsG3KUKytMXWcwA6coWoxWi_w",je=({school:t})=>{var n;const{isOpen:r,onOpen:o,onClose:a}=z();return i(I,{children:[i(P,{isOpen:r,onClose:a,children:[e(j,{}),i(T,{children:[e(B,{textTransform:"capitalize",children:(n=t.NAME)==null?void 0:n.toLowerCase()}),e($,{}),e(k,{orientation:"horizontal"}),i(G,{mb:2,children:[e(b,{height:300,mb:3,children:e(be,{bootstrapURLKeys:{key:Pe},defaultCenter:{lat:t.LAT?t.LAT:0,lng:t.LON?t.LON:0},defaultZoom:15,draggable:!1,children:e(b,{borderWidth:2,borderColor:m.colors.brand.darkGreen,borderRadius:"50%",height:20,width:20,position:"relative",left:-10,top:-10})})}),i(U,{href:"https://data-nces.opendata.arcgis.com/datasets/nces::private-school-locations-current/api",isExternal:!0,children:["Data from data-nces.opendata.arcgis.com "," ",e(W,{ml:2,mb:1})]}),e(H,{listStyleType:"none",ml:0,mt:2,spacing:1,maxHeight:"300px",overflowY:"auto",pb:5,sx:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))"},children:Object.entries(t).map(s=>i(L,{children:[i(x,{fontWeight:"bold",children:[s[0],":"]})," ",s[1]]},s[0]))})]})]})]}),e(L,{py:2,px:3,borderRadius:12,transition:"background-color 150ms linear",background:"gray.50",_hover:{background:"gray.100",cursor:"pointer"},_active:{background:"gray.200"},onClick:o,children:i(R,{height:"40px",children:[e(x,{userSelect:"none",mr:3,children:t.NAME}),e(q,{})]})})]})},Te=async t=>{let r=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')&outFields=*&outSR=4326&f=json`,o=[],a=await(await fetch(r)).json();return o=[...a.features?a.features.map(n=>n.attributes):[]],o},Be=async(t,r)=>{let o=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${r?`%20AND%20LEAID%20%3D%20'${r}'`:""}&outFields=*&outSR=4326&f=json`,a=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${r?`%20AND%20LEAID%20%3D%20'${r}'`:""}&outFields=*&outSR=4326&f=json`,n=[],s=await(await fetch(o)).json(),l=await(await fetch(a)).json();return n=[...s.features?s.features.map(c=>c.attributes):[],...l.features?l.features.map(c=>c.attributes):[]],n},$e=({districtInput:t,schoolInput:r,setDistrictInput:o,setSchoolInput:a,clearSearches:n})=>i(Y,{spacing:"5px",direction:{base:"column",md:"row"},children:[i(Y,{spacing:"0px",direction:{base:"column",md:"row"},children:[e(V,{variant:"floating",children:i(X,{size:"lg",mb:{base:"15px",md:"0"},children:[e(J,{pointerEvents:"none",children:e(Z,{color:"gray.300"})}),e(Q,{type:"tel",borderRightRadius:{base:"default",md:"0"},borderRightColor:{base:"default",md:"transparent"},value:t,placeholder:" ",onChange:s=>o(s.target.value)}),e(ee,{children:"School District"})]})}),e(V,{variant:"floating",children:i(X,{size:"lg",children:[e(J,{pointerEvents:"none",children:e(Z,{color:"gray.300"})}),e(Q,{type:"tel",placeholder:" ",borderLeftRadius:{base:"default",md:"0"},value:r,onChange:s=>a(s.target.value)}),e(ee,{children:"School Name"})]})})]}),e(K,{colorScheme:"green",color:m.colors.brand.darkGreen,variant:"ghost",borderRadius:"11px",size:"lg",onClick:()=>n(),children:"Clear"})]}),ne=({title:t,helperText:r,children:o})=>{const a=h.exports.Children.count(o);return e(b,{w:"100%",children:e(D,{initialScale:.9,in:!0,children:i(xe,{mt:3,w:"100%",children:[i(R,{w:"100%",children:[e(x,{fontWeight:"bold",children:t}),r&&e(x,{color:"gray.700",children:r})]}),e(k,{orientation:"horizontal"}),e(ve,{w:"100%",listStyleType:"none",overflowY:"auto",maxHeight:"200px",spacing:1,pb:a>3?5:0,sx:{maskImage:a>3?"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))":"none"},children:o}),e(k,{orientation:"horizontal"})]})})})},Ge=()=>{const[t,r]=h.exports.useState(!1),[o,a]=h.exports.useState(!1),[n,s]=h.exports.useState([]),[l,c]=h.exports.useState([]),[v,y]=h.exports.useState(""),[u,f]=h.exports.useState(""),[g,w]=h.exports.useState("");function se(){y(""),f(""),w(""),c([]),s([])}async function ie(d,p){if(r(!0),d.length>0){const E=await Te(d);s(E),E.find(de=>de.LEAID===p)||w("")}else s([]),w("");r(!1)}async function _(d,p){if(a(!0),d.length>0||p&&p.length>0){const E=await Be(d,p);c(E)}else c([]);a(!1)}const le=h.exports.useCallback(te((d,p)=>ie(d,p),600),[]),ce=h.exports.useCallback(te((d,p)=>_(d,p),600),[]);return h.exports.useEffect(()=>{le(v,g)},[v]),h.exports.useEffect(()=>{ce(u,g)},[u]),h.exports.useEffect(()=>{_(u,g)},[g]),i(Ie,{variant:"rounded",children:[e($e,{districtInput:v,schoolInput:u,setDistrictInput:y,setSchoolInput:f,clearSearches:se}),t?e(re,{mt:3}):n.length>0?e(ne,{title:"Districts",helperText:"Select a district to filter schools",children:n.map(d=>e(ze,{district:d,selectedDistrict:g,setSelectedDistrict:w},d.OBJECTID))}):null,o?e(re,{mt:3}):l.length>0?e(ne,{title:"Schools",children:l.map((d,p)=>e(je,{school:d},p))}):null]})},Ue=()=>e(Se,{px:{base:"24px",md:"100px"},pt:{base:"100px",md:"150px"},children:i(D,{initialScale:.9,in:!0,children:[e(ye,{as:"h1",size:"2xl",mb:5,textAlign:"center",children:"School Search"}),e(Ge,{})]})});function We(){return i("div",{className:"App",children:[e(Oe,{}),e(Ue,{})]})}we.render(e(Ee.StrictMode,{children:e(Ce,{theme:m,children:e(We,{})})}),document.getElementById("root"));
