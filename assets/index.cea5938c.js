var ue=Object.defineProperty,pe=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var B=(t,r,n)=>r in t?ue(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,A=(t,r)=>{for(var n in r||(r={}))T.call(r,n)&&B(t,n,r[n]);if(D)for(var n of D(r))z.call(r,n)&&B(t,n,r[n]);return t},$=(t,r)=>pe(t,ge(r));var U=(t,r)=>{var n={};for(var s in t)T.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&D)for(var s of D(t))r.indexOf(s)<0&&z.call(t,s)&&(n[s]=t[s]);return n};import{u as me,j as e,B as x,e as fe,a,F as M,b as H,L as I,M as G,c as K,d as W,f as q,g as Y,D as v,h as J,i as V,E as Z,U as Q,T as m,H as k,k as X,I as ee,S as R,C as be,l as Se,r as u,m as xe,n as te,o as re,p as oe,q as ae,s as ne,t as se,V as ie,O as le,v as ve,w as ye,R as we,x as Ee,y as Ce}from"./vendor.db5e0fd4.js";const Le=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};Le();var De="/school-search/assets/header_logo.1094da8d.png";const Ie={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},ke=o=>{var i=o,{variant:t,children:r,borderColor:n}=i,s=U(i,["variant","children","borderColor"]);const l=me("Card",{variant:t});return e(x,$(A({className:"cs-card",__css:l,borderColor:n},s),{children:r}))},Re={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},_e={baseStyle:{bg:"white"}};var Ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:Re,Input:_e});const Me={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},Ne={heading:"Archivo, sans-serif"},_=fe({colors:Me,fonts:Ne,components:A({Card:Ie},Ae)});const ce=({children:t,color:r=_.colors.brand.blue,size:n=["50%","50%"],globSizes:s=[[40,80],[60,50],[20,80]],globPositions:o=[[20,10],[10,20],[20,15]],top:i,left:l,right:c,bottom:g,opacity:w=1,speed:h,radius:f,rotate:p})=>a(M,{children:[a("div",{className:"blob",style:{top:i,left:l,right:c,bottom:g,width:n[0],height:n[1],opacity:w,transform:p?`rotate(${p}deg)`:void 0,zIndex:-1},children:[e("div",{className:"glob",style:{backgroundColor:r,width:s[0][0]+"%",height:s[0][1]+"%",top:o[0][0]+"%",left:o[0][1]+"%",animation:h?`move ${h*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:f}}),e("div",{className:"glob1",style:{backgroundColor:r,width:s[1][0]+"%",height:s[1][1]+"%",top:o[1][0]+"%",left:o[1][1]+"%",animation:h?`move ${h*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:f}}),e("div",{className:"glob2",style:{backgroundColor:r,width:s[2][0]+"%",height:s[2][1]+"%",top:o[2][0]+"%",left:o[2][1]+"%",animation:h?`move ${h*800}ms infinite alternate ease-in-out`:void 0,borderRadius:f}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:a("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),Fe=({children:t})=>a(M,{children:[a(x,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e(ce,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:_.colors.brand.green}),e(ce,{size:["600px","600px"],left:"-50px",top:"-20px",color:_.colors.brand.green})]}),a(x,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:De,alt:"CharacterStrong Logo"})}),t]})]}),Pe=({district:t,selectedDistrict:r,setSelectedDistrict:n})=>{const{isOpen:s,onOpen:o,onClose:i}=H(),l=t.LEAID===r;return a(I,{py:2,px:3,borderRadius:12,transition:"background-color 150ms linear, border 150ms linear",background:l?"gray.100":"gray.50",border:l?"2px solid green":"2px solid transparent",_hover:{background:"gray.100",cursor:"pointer"},_active:{background:"gray.200"},onClick:()=>n(l?"":t.LEAID),children:[a(G,{isOpen:s,onClose:i,children:[e(K,{}),a(W,{children:[e(q,{textTransform:"capitalize",children:t.NAME.toLowerCase()}),e(Y,{}),e(v,{orientation:"horizontal"}),a(J,{mb:2,children:[a(V,{href:"https://data-nces.opendata.arcgis.com/datasets/nces::private-school-locations-current/api",isExternal:!0,children:["Data from data-nces.opendata.arcgis.com "," ",e(Z,{ml:2,mb:1})]}),e(Q,{listStyleType:"none",ml:0,mt:2,spacing:1,maxHeight:"300px",overflowY:"auto",pb:5,sx:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))"},children:Object.entries(t).map(c=>a(I,{children:[a(m,{fontWeight:"bold",children:[c[0],":"]})," ",c[1]]},c[0]))})]})]})]}),a(k,{justify:"space-between",children:[a(k,{children:[a(m,{userSelect:"none",textTransform:"capitalize",children:[t.NAME.toLowerCase(),","," ",t.LSTATE]}),e(X,{colorScheme:"transparent",variant:"ghost",px:2,onClick:c=>{c.stopPropagation(),o()},children:e(ee,{})})]}),l&&e(R,{initialScale:.5,in:!0,children:e(be,{color:"green",mb:1})})]})]})},Oe="AIzaSyA6ybJwxJZgd0t91Xx_QEr_4FU5hph0ifM",je=({school:t})=>{var i;const{isOpen:r,onOpen:n,onClose:s}=H(),o={address:"1600 Amphitheatre Parkway, Mountain View, california.",lat:37.42216,lng:-122.08427};return a(M,{children:[a(G,{isOpen:r,onClose:s,children:[e(K,{}),a(W,{children:[e(q,{textTransform:"capitalize",children:(i=t.NAME)==null?void 0:i.toLowerCase()}),e(Y,{}),e(v,{orientation:"horizontal"}),a(J,{mb:2,children:[e(x,{height:300,children:e(Se,{bootstrapURLKeys:{key:Oe},defaultCenter:o,defaultZoom:1})}),a(V,{href:"https://data-nces.opendata.arcgis.com/datasets/nces::private-school-locations-current/api",isExternal:!0,children:["Data from data-nces.opendata.arcgis.com "," ",e(Z,{ml:2,mb:1})]}),e(Q,{listStyleType:"none",ml:0,mt:2,spacing:1,maxHeight:"300px",overflowY:"auto",pb:5,sx:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))"},children:Object.entries(t).map(l=>a(I,{children:[a(m,{fontWeight:"bold",children:[l[0],":"]})," ",l[1]]},l[0]))})]})]})]}),e(I,{py:2,px:3,borderRadius:12,transition:"background-color 150ms linear",background:"gray.50",_hover:{background:"gray.100",cursor:"pointer"},_active:{background:"gray.200"},onClick:n,children:a(k,{height:"40px",children:[e(m,{userSelect:"none",mr:3,children:t.NAME}),e(ee,{})]})})]})},Te=async t=>{let r=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')&outFields=*&outSR=4326&f=json`,n=[],s=await(await fetch(r)).json();return n=[...s.features?s.features.map(o=>o.attributes):[]],n},ze=async(t,r)=>{let n=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${r?`%20AND%20LEAID%20%3D%20'${r}'`:""}&outFields=*&outSR=4326&f=json`,s=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${r?`%20AND%20LEAID%20%3D%20'${r}'`:""}&outFields=*&outSR=4326&f=json`,o=[],i=await(await fetch(n)).json(),l=await(await fetch(s)).json();return o=[...i.features?i.features.map(c=>c.attributes):[],...l.features?l.features.map(c=>c.attributes):[]],o},Be=()=>{const[t,r]=u.exports.useState(!1),[n,s]=u.exports.useState(!1),[o,i]=u.exports.useState([]),[l,c]=u.exports.useState([]),[g,w]=u.exports.useState(""),[h,f]=u.exports.useState(""),[p,N]=u.exports.useState("");function de(){w(""),f(""),N(""),c([]),i([])}async function F(d,b,E,y){let O=!1,C=[];d==="district"&&(O=!0,r(!0),b.length>0?(C=await Te(b),i(C),console.log("District results",C)):i([]),r(!1));let L=y,j=!1;if(y&&O){const S=C.find(he=>he.LEAID===y);L=S==null?void 0:S.LEAID,j=!0}if(d==="school"||j){if(s(!0),E.length>0||L&&L.length>0){const S=await ze(E,L);c(S),console.log("School results",S)}else c([]);s(!1)}}const P=u.exports.useCallback(xe((d,b,E,y)=>F(d,b,E,y),600),[]);return u.exports.useEffect(()=>{P("district",g,h,p)},[g]),u.exports.useEffect(()=>{P("school",g,h,p)},[h]),u.exports.useEffect(()=>{F("school",g,h,p)},[p]),a(ke,{variant:"rounded",children:[a(te,{spacing:"5px",direction:{base:"column",md:"row"},children:[a(te,{spacing:"0px",direction:{base:"column",md:"row"},children:[a(re,{size:"lg",mb:{base:"5px",md:"0"},children:[e(oe,{pointerEvents:"none",children:e(ae,{color:"gray.300"})}),e(ne,{type:"tel",placeholder:"School District",borderRightRadius:{base:"default",md:"0"},borderRightColor:{base:"default",md:"transparent"},value:g,onChange:d=>w(d.target.value)})]}),a(re,{size:"lg",children:[e(oe,{pointerEvents:"none",children:e(ae,{color:"gray.300"})}),e(ne,{type:"tel",placeholder:"School Name",borderLeftRadius:{base:"default",md:"0"},value:h,onChange:d=>f(d.target.value)})]})]}),e(X,{colorScheme:"green",variant:"ghost",borderRadius:"11px",size:"lg",onClick:()=>de(),children:"Clear"})]}),t?e(se,{mt:3}):o.length>0?e(x,{w:"100%",children:e(R,{initialScale:.9,in:!0,children:a(ie,{mt:3,w:"100%",children:[a(k,{w:"100%",children:[e(m,{fontWeight:"bold",children:"Districts"}),e(m,{color:"gray.700",children:"Select a district to filter schools"})]}),e(v,{orientation:"horizontal"}),e(le,{w:"100%",listStyleType:"none",overflowY:"auto",maxHeight:"200px",spacing:1,pb:o.length>3?5:0,sx:{maskImage:o.length>3?"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))":"none"},children:o.map(d=>e(Pe,{district:d,selectedDistrict:p,setSelectedDistrict:N},d.OBJECTID))}),e(v,{orientation:"horizontal"})]})})}):null,n?e(se,{mt:3}):l.length>0?e(x,{w:"100%",children:e(R,{initialScale:.9,in:!0,children:a(ie,{mt:3,w:"100%",children:[e(m,{fontWeight:"bold",w:"100%",children:"Schools"}),e(v,{orientation:"horizontal"}),e(le,{w:"100%",listStyleType:"none",overflowY:"auto",maxHeight:"200px",spacing:1,pb:l.length>3?5:0,sx:{maskImage:l.length>3?"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))":"none"},children:l.map((d,b)=>e(je,{school:d},b))}),e(v,{orientation:"horizontal"})]})})}):null]})},$e=()=>e(ve,{px:{base:"24px",md:"100px"},pt:"150px",children:a(R,{initialScale:.9,in:!0,children:[e(ye,{as:"h1",size:"2xl",mb:5,textAlign:"center",children:"School Search"}),e(Be,{})]})});function Ue(){return a("div",{className:"App",children:[e(Fe,{}),e($e,{})]})}we.render(e(Ee.StrictMode,{children:e(Ce,{theme:_,children:e(Ue,{})})}),document.getElementById("root"));
