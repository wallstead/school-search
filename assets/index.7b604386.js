var he=Object.defineProperty,ue=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var F=(t,r,o)=>r in t?he(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,y=(t,r)=>{for(var o in r||(r={}))A.call(r,o)&&F(t,o,r[o]);if(C)for(var o of C(r))N.call(r,o)&&F(t,o,r[o]);return t},M=(t,r)=>ue(t,pe(r));var O=(t,r)=>{var o={};for(var a in t)A.call(t,a)&&r.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&C)for(var a of C(t))r.indexOf(a)<0&&N.call(t,a)&&(o[a]=t[a]);return o};import{u as ge,j as e,B as b,e as me,a as s,F as I,b as B,L,M as P,c as z,d as j,f as T,g as $,D as k,h as U,i as W,E as G,U as H,T as f,H as R,k as K,I as q,S as D,C as fe,l as be,m as Y,n as J,o as V,p as X,q as Z,r as xe,s as Q,t as ee,v as ve,w as h,V as Se,O as ye,x as te,y as re,z as we,A as Ee,R as Ce,G as Le,J as ke}from"./vendor.3fcd1d93.js";const Re=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};Re();var Ie="/school-search/assets/header_logo.1094da8d.png";const De={baseStyle:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},variants:{rounded:{padding:8,borderRadius:"40px",boxShadow:"xl",border:"2px solid"},smooth:{padding:6,borderRadius:"base",boxShadow:"md"}},defaultProps:{variant:"smooth"}},_e=i=>{var l=i,{variant:t,children:r,borderColor:o,pointerEvents:a}=l,n=O(l,["variant","children","borderColor","pointerEvents"]);const c=ge("Card",{variant:t});return e(b,M(y({className:"cs-card",__css:c,borderColor:o,pointerEvents:a},n),{children:r}))},Ae={baseStyle:{fontWeight:"bold",borderRadius:"25px",_hover:{bg:"black"}},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4}},variants:{outline:{border:"2px solid"},ghost:{border:"0px solid"},solid:{color:"white"}},defaultProps:{size:"md",variant:"outline"}},Ne={baseStyle:{bg:"white"}},oe={transform:"scale(0.85) translateY(-26px) translateX(6px)"},Fe={variants:{floating:{container:{_focusWithin:{label:y({},oe)},"input:not(:placeholder-shown) + label, .chakra-select__wrapper + label":y({},oe),label:{top:0,left:0,zIndex:2,position:"absolute",pointerEvents:"none",ml:10,px:1,mt:"11px",fontSize:"lg",transformOrigin:"left top",color:"gray.400",_after:{content:'""',position:"absolute",left:0,bottom:0,width:"100%",height:"60%",bg:"white",opacity:"1",zIndex:-1}}}}}};var Me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Button:Ae,Input:Ne,Form:Fe});const Oe={brand:{green:"#42E794",darkGreen:"#1E7B75",red:"#FF4658",orange:"#FF6105",lightBlue:"#2ab8ff",darkBlue:"#1467FF",blue:"#2AB8FF",purple:"#630CB2",yellow:"#fff95e"},blue:{500:"#2ab8ff",600:"#1467FF"},yellow:{100:"#fff95e"},red:{100:"#ff4658"},pink:{100:"#e748b9"}},Be={heading:"Archivo, sans-serif"},p=me({colors:Oe,fonts:Be,components:y({Card:De},Me)});const ae=({color:t=p.colors.brand.blue,size:r=["50%","50%"],globSizes:o=[[40,80],[60,50],[20,80]],globPositions:a=[[20,10],[10,20],[20,15]],top:n,left:i,right:l,bottom:c,opacity:x=1,speed:g,radius:m,rotate:v})=>s(I,{children:[s("div",{className:"blob",style:{top:n,left:i,right:l,bottom:c,width:r[0],height:r[1],opacity:x,transform:v?`rotate(${v}deg)`:void 0},children:[e("div",{className:"glob",style:{backgroundColor:t,width:o[0][0]+"%",height:o[0][1]+"%",top:a[0][0]+"%",left:a[0][1]+"%",animation:g?`move ${g*1200}ms infinite alternate ease-in-out`:void 0,borderRadius:m}}),e("div",{className:"glob1",style:{backgroundColor:t,width:o[1][0]+"%",height:o[1][1]+"%",top:a[1][0]+"%",left:a[1][1]+"%",animation:g?`move ${g*1e3}ms infinite alternate ease-in-out`:void 0,borderRadius:m}}),e("div",{className:"glob2",style:{backgroundColor:t,width:o[2][0]+"%",height:o[2][1]+"%",top:a[2][0]+"%",left:a[2][1]+"%",animation:g?`move ${g*800}ms infinite alternate ease-in-out`:void 0,borderRadius:m}})]}),e("svg",{className:"glob-svg",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:e("defs",{children:s("filter",{id:"goo",children:[e("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12",result:"blur"}),e("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),e("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})]})})}),e("svg",{className:"glob-svg",viewBox:"0 0 400 400",children:e("defs",{children:e("filter",{id:"duotone-filter-post-one",children:e("feColorMatrix",{type:"matrix",values:"0.14453125 0 0 0 0.33203125 0.71875 0 0 0 0.27734375 -0.34765625 0 0 0 0.73046875 0 0 0 1 0"})})})})]}),Pe=({children:t})=>s(I,{children:[s(b,{overflow:"hidden",className:"globParent",position:"absolute",width:"100vw",height:"100%",minHeight:"100vh",children:[e(ae,{size:["60%","60%"],speed:30,globSizes:[[60,65],[70,80],[30,75]],left:"0%",top:"10%",opacity:.5,color:p.colors.brand.green}),e(ae,{size:["600px","600px"],left:"-50px",top:"-20px",color:p.colors.brand.green})]}),s(b,{className:"cs-header",position:"absolute",top:"0",right:"0",left:"0",width:"100vw",height:"80px",children:[e("a",{href:"https://characterstrong.com",children:e("img",{className:"header-img",src:Ie,alt:"CharacterStrong Logo"})}),t]})]}),ze=({district:t,selectedDistrict:r,setSelectedDistrict:o})=>{const{isOpen:a,onOpen:n,onClose:i}=B(),l=t.LEAID===r;return s(L,{py:2,px:3,borderRadius:12,transition:"background-color 150ms linear, border 150ms linear",background:l?"gray.100":"gray.50",border:l?`2px solid ${p.colors.brand.darkBlue}`:"2px solid transparent",_hover:{background:"gray.100",cursor:"pointer"},_active:{background:"gray.200"},onClick:()=>o(l?"":t.LEAID),children:[s(P,{isOpen:a,onClose:i,children:[e(z,{}),s(j,{children:[e(T,{textTransform:"capitalize",children:t.NAME.toLowerCase()}),e($,{}),e(k,{orientation:"horizontal"}),s(U,{mb:2,children:[s(W,{href:"https://data-nces.opendata.arcgis.com/datasets/nces::private-school-locations-current/api",isExternal:!0,children:["Data from data-nces.opendata.arcgis.com "," ",e(G,{ml:2,mb:1})]}),e(H,{listStyleType:"none",ml:0,mt:2,spacing:1,maxHeight:"300px",overflowY:"auto",pb:5,sx:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))"},children:Object.entries(t).map(c=>s(L,{children:[s(f,{fontWeight:"bold",children:[c[0],":"]})," ",c[1]]},c[0]))})]})]})]}),s(R,{justify:"space-between",children:[s(R,{children:[s(f,{userSelect:"none",textTransform:"capitalize",children:[t.NAME.toLowerCase(),", ",t.LSTATE]}),e(K,{colorScheme:"transparent",variant:"ghost",px:2,onClick:c=>{c.stopPropagation(),n()},children:e(q,{})})]}),l&&e(D,{initialScale:.5,in:!0,children:e(fe,{color:p.colors.brand.darkBlue,mb:1})})]})]})},je="AIzaSyCpR_uaWxqsG3KUKytMXWcwA6coWoxWi_w",Te=({school:t})=>{var n;const{isOpen:r,onOpen:o,onClose:a}=B();return s(I,{children:[s(P,{isOpen:r,onClose:a,children:[e(z,{}),s(j,{children:[e(T,{textTransform:"capitalize",children:(n=t.NAME)==null?void 0:n.toLowerCase()}),e($,{}),e(k,{orientation:"horizontal"}),s(U,{mb:2,children:[e(b,{height:300,mb:3,borderWidth:2,borderColor:p.colors.brand.blue,children:e(be,{bootstrapURLKeys:{key:je},defaultCenter:{lat:t.LAT?t.LAT:0,lng:t.LON?t.LON:0},defaultZoom:15,draggable:!1,children:e(b,{borderWidth:3,borderColor:p.colors.brand.blue,borderRadius:"50%",height:20,width:20,position:"relative",left:-10,top:-10})})}),s(W,{href:"https://data-nces.opendata.arcgis.com/datasets/nces::private-school-locations-current/api",isExternal:!0,children:["Data from data-nces.opendata.arcgis.com "," ",e(G,{ml:2,mb:1})]}),e(H,{listStyleType:"none",ml:0,mt:2,spacing:1,maxHeight:"300px",overflowY:"auto",pb:5,sx:{maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))"},children:Object.entries(t).map(i=>s(L,{children:[s(f,{fontWeight:"bold",children:[i[0],":"]})," ",i[1]]},i[0]))})]})]})]}),e(L,{py:2,px:3,borderRadius:12,transition:"background-color 150ms linear",background:"gray.50",_hover:{background:"gray.100",cursor:"pointer"},_active:{background:"gray.200"},onClick:o,children:s(R,{height:"40px",children:[e(f,{userSelect:"none",mr:3,children:t.NAME}),e(q,{})]})})]})},$e=async t=>{let r=`https://nces.ed.gov/opengis/rest/services/K12_School_Locations/EDGE_GEOCODE_PUBLICLEA_1516/MapServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')&outFields=*&outSR=4326&f=json`,o=[],a=await(await fetch(r)).json();return o=[...a.features?a.features.map(n=>n.attributes):[]],o},Ue=async(t,r)=>{let o=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Private_School_Locations_Current/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${r?`%20AND%20LEAID%20%3D%20'${r}'`:""}&outFields=*&outSR=4326&f=json`,a=`https://services1.arcgis.com/Ua5sjt3LWTPigjyD/arcgis/rest/services/Public_School_Location_201819/FeatureServer/0/query?where=UPPER(NAME) LIKE UPPER('%${t}%')${r?`%20AND%20LEAID%20%3D%20'${r}'`:""}&outFields=*&outSR=4326&f=json`,n=[],i=await(await fetch(o)).json(),l=await(await fetch(a)).json();return n=[...i.features?i.features.map(c=>c.attributes):[],...l.features?l.features.map(c=>c.attributes):[]],n},We=({districtInput:t,schoolInput:r,setDistrictInput:o,setSchoolInput:a,clearSearches:n})=>s(Y,{spacing:"5px",direction:{base:"column",md:"row"},children:[s(Y,{spacing:"0px",direction:{base:"column",md:"row"},children:[e(J,{variant:"floating",children:s(V,{size:"lg",mb:{base:"15px",md:"0"},children:[e(X,{pointerEvents:"none",children:e(Z,{icon:xe,color:p.colors.gray["300"]})}),e(Q,{type:"text",borderRightRadius:{base:"default",md:"0"},borderRightColor:{base:"default",md:"transparent"},value:t,placeholder:" ",onChange:i=>o(i.target.value)}),e(ee,{children:"School District"})]})}),e(J,{variant:"floating",children:s(V,{size:"lg",children:[e(X,{pointerEvents:"none",children:e(Z,{icon:ve,color:p.colors.gray["300"],transform:"shrink-1"})}),e(Q,{type:"text",placeholder:" ",borderLeftRadius:{base:"default",md:"0"},value:r,onChange:i=>a(i.target.value)}),e(ee,{children:"School Name"})]})})]}),e(K,{colorScheme:"blue",color:p.colors.brand.darkBlue,variant:"ghost",borderRadius:"11px",size:"lg",onClick:()=>n(),children:"Clear"})]}),ne=({title:t,helperText:r,children:o})=>{const a=h.exports.Children.count(o);return e(b,{w:"100%",children:e(D,{initialScale:.9,in:!0,children:s(Se,{mt:3,w:"100%",children:[s(R,{w:"100%",children:[e(f,{fontWeight:"bold",children:t}),r&&e(f,{color:"gray.700",children:r})]}),e(k,{orientation:"horizontal"}),e(ye,{w:"100%",listStyleType:"none",overflowY:"auto",maxHeight:"200px",spacing:1,pb:a>3?5:0,sx:{maskImage:a>3?"linear-gradient(to bottom, rgba(0, 0, 0, 1) 90%, rgba(0, 0, 0, 0))":"none"},children:o}),e(k,{orientation:"horizontal"})]})})})},Ge=()=>{const[t,r]=h.exports.useState(!1),[o,a]=h.exports.useState(!1),[n,i]=h.exports.useState([]),[l,c]=h.exports.useState([]),[x,g]=h.exports.useState(""),[m,v]=h.exports.useState(""),[S,w]=h.exports.useState("");function se(){g(""),v(""),w(""),c([]),i([])}async function ie(d,u){if(r(!0),d.length>0){const E=await $e(d);i(E),E.find(de=>de.LEAID===u)||w("")}else i([]),w("");r(!1)}async function _(d,u){if(a(!0),d.length>0||u&&u.length>0){const E=await Ue(d,u);c(E)}else c([]);a(!1)}const le=h.exports.useCallback(te((d,u)=>ie(d,u),600),[]),ce=h.exports.useCallback(te((d,u)=>_(d,u),600),[]);return h.exports.useEffect(()=>{le(x,S)},[x]),h.exports.useEffect(()=>{ce(m,S)},[m]),h.exports.useEffect(()=>{_(m,S)},[S]),s(_e,{variant:"rounded",pointerEvents:"all",children:[e(We,{districtInput:x,schoolInput:m,setDistrictInput:g,setSchoolInput:v,clearSearches:se}),t?e(re,{mt:3}):n.length>0?e(ne,{title:"Districts",helperText:"Select a district to filter schools",children:n.map(d=>e(ze,{district:d,selectedDistrict:S,setSelectedDistrict:w},d.OBJECTID))}):null,o?e(re,{mt:3}):l.length>0?e(ne,{title:"Schools",children:l.map((d,u)=>e(Te,{school:d},u))}):null]})},He=()=>e(we,{px:{base:"24px",md:"100px"},pt:{base:"100px",md:"150px"},position:"relative",pointerEvents:"none",children:s(D,{initialScale:.9,in:!0,children:[s(Ee,{as:"h1",size:"2xl",mb:7,textAlign:"center",children:["School"," ",e(f,{as:"span",backgroundImage:"https://characterstrong.com/wp-content/themes/charactertheme/images/homepage/yellow_underline.svg",backgroundPosition:"left bottom",backgroundRepeat:"no-repeat",backgroundSize:"5em",paddingBottom:"12px",children:"Search"})]}),e(Ge,{})]})});function Ke(){return s("div",{className:"App",children:[e(Pe,{}),e(He,{})]})}Ce.render(e(Le.StrictMode,{children:e(ke,{theme:p,children:e(Ke,{})})}),document.getElementById("root"));
